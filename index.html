<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GS Calculator</title>
</head>

<body>


    <script>
        /* 

        kinds of operation : 
        1° solve for the nth term
        nthTerm = a(1) * (r ** (n - 1))

        2° solve for the ratio
        ration = a(n) / (n - 1)

        3° the sum of the terms
        Sn = a[(rn – 1)/(r – 1)] if r ≠ 1 and r > 1
        Sn = na if r = 1

        Formula :
        a(n) = a(1) * (r ** (n - 1))

        */

        // Ask for what kind of operation the user want to use

        alert('How to use the Aplication : \nType \'nth\', to solve for the seguense\'s nth term; \nType \'r\', to solve for the seguense\'s ratio; \nType \'sn\', to solve for the sum of the terms')

        var response = prompt('What kind of term do you want to solve for?');
        var firstTerm;
        var uncoveredRatio;
        var secondTerm;
        var n;
        var ratio;
        var result;
        var nthTerm;
        var factor;

        function calculateTheNth(firstTerm, ratio, n) {

            result = firstTerm * (ratio ** (n - 1));
            return result
        }

        function calculateRatio(nthTerm, n) {

            result = nthTerm / (n - 1);
            return result
        }

        function calculateSum(firstTerm, ratio, n) {

            if (ratio > 1) {
                result = firstTerm * (((ratio * n) - 1) / (ratio - 1))
            } else {
                result = n * firstTerm;
            }
            return result

        }


        if (response == 'nth') {

            n = parseInt(prompt('The n is :'));

            firstTerm = parseInt(prompt('What is the 1st term of the sequence?'));

            uncoveredRatio = prompt('Do you know the sequence\'s ratio?');

            if (uncoveredRatio == 'no') {
                secondTerm = parseInt(prompt('Okay, let\'s discover it then. What\'s the 2nd term?'));
                ratio = firstTerm / secondTerm;
            } else {
                ratio = parseInt(prompt('What is it?'));
            }

            alert(calculateTheNth(firstTerm, ratio, n));
        } else if (response == 'r') {

            nthTerm = parseInt(prompt('What is the nth term?'));

            n = parseInt(prompt('The n is :'));

            alert(calculateRatio(nthTerm, n));
        } else if (response == 'sum') {

            nthTerm = parseInt(prompt('What is the nth term?'));

            n = parseInt(prompt('The n is :'));

            alert(calculateRatio(nthTerm, n));
        } else if (response == 'sn') {
            firstTerm = parseInt(prompt('What is the 1st term?'));
            ratio = parseInt(prompt('What\'s the ration?'));
            n = parseInt(prompt('The n is :'));

            alert(calculateSum(firstTerm, ratio, n));
        }
    </script>
</body>

</html>